<div class="container">
  <h2>編集</h2>
  <div>
    <%= form_with model: [:users, @recipe], method: :patch do |form| %>
      <div>
        <%= form.label :title, "レシピ名" %>
        <%= form.text_field :title %>
      </div>
      <% if @recipe.errors[:title].any? %>
        <span class="error"><%= @recipe.errors[:title].first %></span>
      <% end %>
      <div>
        <%= form.label :description, "説明" %>
        <%= form.text_area :description %>
      </div>
      <div>
        <%= form.label :cooking_time, "調理時間" %>
        <%= form.text_field :cooking_time %>分
      </div>
      <div>
        <%= form.label :difficulty, "難易度" %>
        <%= form.select :difficulty, [["easy", "easy"], ["medium", "medium"], ["hard", "hard"]] %>
      </div>
      <% if @recipe.errors[:difficulty].any? %>
        <span class="error"><%= @recipe.errors[:difficulty].first %></span>
      <% end %>
      <div>
        <h3>現在選択されている食材</h3>
        <ul>
          <% @recipe.ingredients.each do |ingredient| %>
            <li><%= ingredient.name %></li>
          <% end %>
        </ul>
      </div>
      <div>
        <%= form.label :ingredient_ids, "材料を選ぶ" %>
        <%= collection_select(:recipe, :ingredient_ids, Ingredient.all, :id, :name, {}, { multiple: true, size: 8 }) %>
      </div>
      <%= form.button "更新" %>
    <% end %>
  </div>
</div>